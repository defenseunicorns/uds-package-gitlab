# Copyright 2024 Defense Unicorns
# SPDX-License-Identifier: AGPL-3.0-or-later OR LicenseRef-Defense-Unicorns-Commercial
name: Add to Org Project
on:
  issues:
    types: [opened, reopened, labeled, edited, transferred]
  pull_request:
    types: [opened, reopened, labeled, edited]
  workflow_dispatch: {}
permissions:
  contents: read
jobs:
  add:
    permissions:
      contents: read
      issues: read
    uses: uds-packages/workflows/.github/workflows/callable-project-sync.yaml@eaa76ea2a70893dca6e49ec087935590944448e9 # v0.1.0
    with:
      destination_org: uds-packages
      project_number: 2
      # Optional label filter (only add when item has any of these labels)
      filter_labels: "tech-debt,tech-debt 💳,bug 🐞,documentation 📘,enhancement ✨,breaking-change 💔,possible-bug 🐛,bug,possible-bug,enhancement,support-deps,package-deps,cve"
      label_operator: "OR"
      app_id: ${{ vars.DEFENSEUNICORNS_PROJECT_SYNC_APP_ID }}
    secrets:
      APP_PRIVATE_KEY: ${{ secrets.DEFENSEUNICORNS_PROJECT_SYNC_APP_PRIVATE_KEY }}
